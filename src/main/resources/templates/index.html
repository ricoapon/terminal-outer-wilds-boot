<!doctype html>
<!--suppress HtmlUnknownAttribute -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>TerminalOuterWilds</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../static/main.css" th:href="@{/main.css}" rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet" type="text/css">

    <script src="https://unpkg.com/htmx.org@1.8.2"></script>
</head>
<body>
<script>
    document.body.addEventListener('htmx:beforeRequest', function(evt) {
        const key = evt.detail.requestConfig.triggeringEvent.key

        // Prevent any request that is not pressing Enter.
        if (key !== "Enter") {
            evt.preventDefault()
        }
    });

    document.body.addEventListener('htmx:afterRequest', function(evt) {
        // Clear the after the input box after we executed a command.
        const header = evt.detail.xhr.getResponseHeader('Terminal-Clear-Input')
        if (header !== null && header === "false") {
            return
        }

        document.getElementById('command').value = '';
    });
</script>

<div class="container">
    <div class="terminal">

        <section class="title-bar">
            <div class="buttons">
                <button class="button button-exit">&#10005;</button>
                <button class="button">&#9472;</button>
                <button class="button">&#9723;</button>
            </div>
            <p class="title">Outer Wilds</p>
        </section>

        <!-- Terminal Body -->
        <section class="body">
            <div id="executed-commands">
                <div>
                    <div>
                        <span class="response">
   ____    _    _   _______   ______   _____     __          __  _____   _        _____     _____
  / __ \  | |  | | |__   __| |  ____| |  __ \    \ \        / / |_   _| | |      |  __ \   / ____|
 | |  | | | |  | |    | |    | |__    | |__) |    \ \  /\  / /    | |   | |      | |  | | | (___
 | |  | | | |  | |    | |    |  __|   |  _  /      \ \/  \/ /     | |   | |      | |  | |  \___ \
 | |__| | | |__| |    | |    | |____  | | \ \       \  /\  /     _| |_  | |____  | |__| |  ____) |
  \____/   \____/     |_|    |______| |_|  \_\       \/  \/     |_____| |______| |_____/  |_____/

Welcome to this magical server. Take a look around and enjoy yourself with the puzzles.
If this is your first time playing, type 'help' and press enter.
                        </span>
                    </div>
                </div>
            </div>
            <div id="console-input-container">
                <span class="location">[tutorial] ></span>
                <!--suppress HtmlFormInputWithoutLabel -->
                <input id="command" name="command" type="text" class="console-input" autofocus
                       hx-post="post-command"
                       hx-trigger="keyup"
                       hx-target="#executed-commands"
                       hx-swap="beforeend"/>
            </div>
        </section>
    </div>
</div>

</body>
</html>
